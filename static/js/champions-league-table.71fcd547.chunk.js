webpackJsonp([8],{201:function(e,a,t){"use strict";function l(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}function n(e,a){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?e:a}function c(e,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)}Object.defineProperty(a,"__esModule",{value:!0});var o=t(2),s=t(10),r=t(0),i=t(6),m=t(216),u=function(){function e(e,a){for(var t=0;t<a.length;t++){var l=a[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(a,t,l){return t&&e(a.prototype,t),l&&e(a,l),a}}(),p=function(e,a){return Array.from({length:a-e},function(a,t){return t+e})},h=function(){return o.a.createElement("div",{className:"fa-league-table-container"},o.a.createElement("h2",{className:"fa-league-table-heading"},"The table isn't ready, Master Wayne."))},f=function(e){var a=e.position,t=e.team,l=e.goals,n=e.goalDifference,c=e.goalsAgainst,s=e.points;return o.a.createElement("tr",{className:"fa-league-table-body-row"},o.a.createElement("td",{"data-label":"Position",className:"fa-position"},a),o.a.createElement("td",{"data-label":"Team",className:"fa-team-name"},t.replace(" FC","")),o.a.createElement("td",{"data-label":"Goals",className:"fa-points"},l),o.a.createElement("td",{"data-label":"Goal Difference",className:"fa-points"},n),o.a.createElement("td",{"data-label":"Goals Against",className:"fa-points"},c),o.a.createElement("td",{"data-label":"Points",className:"fa-points"},s))},d=function(e){var a=e.standing,t=a[0].group;return o.a.createElement("div",{className:"fa-champions-league-table-group-container"},o.a.createElement("div",{className:"fa-champions-league-table-group-name"},t),o.a.createElement("table",{className:"fa-champions-league-table-group"},o.a.createElement("thead",{className:"fa-champions-league-table-head"},o.a.createElement("tr",{className:"fa-champions-league-table-head-row"},o.a.createElement("th",{className:"fa-position",scope:"col"}),o.a.createElement("th",{className:"fa-team-name",scope:"col"},"Team"),o.a.createElement("th",{className:"fa-points",scope:"col"},"G"),o.a.createElement("th",{className:"fa-points",scope:"col"},"GD"),o.a.createElement("th",{className:"fa-points",scope:"col"},"GA"),o.a.createElement("th",{className:"fa-points",scope:"col"},"P"))),o.a.createElement("tbody",{className:"fa-champions-league-table-body"},a.map(function(e,a){return o.a.createElement(f,Object.assign({key:a},e,{position:a+1}))}))))},b=function(e){function a(){l(this,a);var e=n(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return e.state={loading:!1,standings:[],league:null,matchDay:null,matchDays:[1]},e._fetchCompetitionLeagueTableData=e.fetchCompetitionLeagueTableData.bind(e),e.mounted=!1,e}return c(a,e),u(a,[{key:"fetchCompetitionLeagueTableData",value:function(e){var a=this,t=e.competitionID,l=e.matchDay,n=e.replaceMatchDays;t&&(this.mounted&&this.setState(function(){return{loading:!0}}),s.a.fetchCompetitionLeagueTable(t,l).then(function(e){r.a.get(r.a.keys.MIXPANEL_DISTINCT_ID).then(function(e){var l={id:t,name:a.props.name,matchDay:s};i.a.track(e,"LeagueTable Viewed",l)}).catch(console.error);var l=e.data,c=l.leagueCaption,o=l.standings,s=l.matchday,m=Object.keys(o).map(function(e){var a=o[e];return a.sort(function(e,a){return e.points>a.points?-1:1}),a});if(a.mounted)if(!0===n){var u=s>1?p(1,s+1):[1];a.setState(function(){return{loading:!1,league:c,standings:m,matchDay:s,matchDays:u}})}else a.setState(function(){return{loading:!1,league:c,standings:m,matchDay:s}})}).catch(function(e){a.mounted&&a.setState(function(){return{loading:!1,standings:[]}})}))}},{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.state.matchDay,a=this.props.id;this._fetchCompetitionLeagueTableData({competitionID:a,matchDay:e,replaceMatchDays:!0})}},{key:"componentWillReceiveProps",value:function(e){var a=e.id;if(a!==this.props.id){var t=this.state.matchDay;this._fetchCompetitionLeagueTableData({competitionID:a,matchDay:t,replaceMatchDays:!1})}}},{key:"handleSelection",value:function(e){e.preventDefault();var a=e.target.value,t=this.props.id;this._fetchCompetitionLeagueTableData({competitionID:t,matchDay:a})}},{key:"render",value:function(){var e=this,a=this.state,t=a.loading,l=a.standings,n=a.matchDay,c=a.matchDays;return t?o.a.createElement(m.a,null):0===l.length?o.a.createElement(h,null):o.a.createElement("div",{className:"fa-champions-league-table-container"},o.a.createElement("h2",{className:"fa-champions-league-table-heading"},"Champions League Table"),o.a.createElement("div",{className:"fa-champions-league-table-match-day"},o.a.createElement("div",{className:"fa-champions-league-table-match-day-label"},"Week:"),o.a.createElement("div",{className:"fa-champions-league-table-match-day-value"},o.a.createElement("select",{value:n,onChange:function(a){return e.handleSelection(a)}},c.map(function(e,a){return o.a.createElement("option",{value:""+e,key:a},e)})))),o.a.createElement("div",{className:"fa-champions-league-table-groups"},l.map(function(e,a){return o.a.createElement(d,{standing:e,key:a})})))}}]),a}(o.a.Component);a.default=b},216:function(e,a,t){"use strict";var l=t(2),n=function(){return l.a.createElement("tr",{className:"fa-league-table-body-row"},l.a.createElement("td",{"data-label":"Position",className:"fa-placeholder-position"}),l.a.createElement("td",{"data-label":"Team",className:"fa-placeholder-table-team-name"}),l.a.createElement("td",{"data-label":"Goals",className:"fa-placeholder-points"}),l.a.createElement("td",{"data-label":"Goal Difference",className:"fa-placeholder-points"}),l.a.createElement("td",{"data-label":"Goals Against",className:"fa-placeholder-points"}),l.a.createElement("td",{"data-label":"Points",className:"fa-placeholder-points"}))},c=function(){return l.a.createElement("div",{className:"fa-placeholder-champions-league-table-group-container"},l.a.createElement("div",{className:"fa-placeholder-champions-league-table-group-name"}),l.a.createElement("table",{className:"fa-placeholder-champions-league-table-group"},l.a.createElement("thead",{className:"fa-placeholder-champions-league-table-head"},l.a.createElement("tr",{className:"fa-placeholder-champions-league-table-head-row"},l.a.createElement("th",{className:"fa-placeholder-position-label",scope:"col"}),l.a.createElement("th",{className:"fa-placeholder-table-team-name-label",scope:"col"},"Team"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"G"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"GD"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"GA"),l.a.createElement("th",{className:"fa-placeholder-points-label",scope:"col"},"P"))),l.a.createElement("tbody",{className:"fa-placeholder-champions-league-table-body"},l.a.createElement(n,null),l.a.createElement(n,null),l.a.createElement(n,null),l.a.createElement(n,null))))},o=function(){return l.a.createElement("div",{className:"fa-placeholder-champions-league-table-container"},l.a.createElement("h2",{className:"fa-placeholder-champions-league-table-heading"},"Champions League Table"),l.a.createElement("div",{className:"fa-placeholder-champions-league-table-match-day"},l.a.createElement("div",{className:"fa-placeholder-champions-league-table-match-day-label"}),l.a.createElement("div",{className:"fa-placeholder-champions-league-table-match-day-value"})),l.a.createElement("div",{className:"fa-placeholder-champions-league-table-groups"},l.a.createElement(c,null),l.a.createElement(c,null),l.a.createElement(c,null),l.a.createElement(c,null)))};a.a=o}});
//# sourceMappingURL=champions-league-table.71fcd547.chunk.js.map