{"version":3,"sources":["../static/js/fixtures.6e877efc.chunk.js","components/fixtures/index.js"],"names":["webpackJsonp","214","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_1__data__","__WEBPACK_IMPORTED_MODULE_2__utils_cache__","__WEBPACK_IMPORTED_MODULE_3__utils_mixpanel__","__WEBPACK_IMPORTED_MODULE_4__async_component_loader__","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","PlaceholderFixtures","e","then","bind","DayFixtures","FixturesListError","createElement","className","FixturesList","_ref","fixtures","timeFrame","team","dayFixtures","keys","map","fixtureDay","loadComponentModule","componentProps","componentName","collateFixtures","oldFixtures","upcomingFixtures","forEach","fixture","matchDay","matchday","status","Fixtures","_React$Component","this","_this","getPrototypeOf","state","loading","timeFrameLabel","fixtureFilters","label","allTeams","teams","teamID","_fetchCompetitionFixturesData","fetchCompetitionFixturesData","_filterCompetitionFixtures","filterCompetitionFixtures","mounted","_ref2","_this2","competitionID","setState","competitionFixturesPromise","fetchCompetitionFixtures","competitionTeamsPromise","fetchCompetitionTeams","Promise","all","_ref3","_ref4","fixturesResponse","teamsResponse","teamsList","data","name","teamLink","_links","href","teamLinkParts","split","fixturesData","get","MIXPANEL_DISTINCT_ID","distinctID","eventProperties","id","currentTeam","track","catch","console","error","_collateFixtures","_ref5","_this3","newTimeFrame","response","filter","_collateFixtures2","_state","_ref6","newCompetitionID","_state2","event","preventDefault","_this4","_state3","selectedTeam","match","params","_this5","_state4","indexOf","onChange","handleTimeFrameSelection","_ref7","index","handleTeamSelection","_ref8","Component"],"mappings":"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","file":"static/js/fixtures.6e877efc.chunk.js","sourcesContent":["webpackJsonp([9],{\n\n/***/ 214:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__data__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_cache__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_mixpanel__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__async_component_loader__ = __webpack_require__(11);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n// import DayFixtures from '../day-fixtures';\n\n\n\n\n// import PlaceholderFixtures from '../placeholder-fixtures';\n\nvar PlaceholderFixtures = function PlaceholderFixtures() {\n  return __webpack_require__.e/* import() */(3).then(__webpack_require__.bind(null, 86));\n};\nvar DayFixtures = function DayFixtures() {\n  return __webpack_require__.e/* import() */(13).then(__webpack_require__.bind(null, 206));\n};\n\nvar FixturesListError = function FixturesListError() {\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(\n    'div',\n    { className: 'fa-fixtures-error' },\n    'No fixtures for selected time period, Master Wayne.'\n  );\n};\n\nvar FixturesList = function FixturesList(_ref) {\n  var fixtures = _ref.fixtures,\n      timeFrame = _ref.timeFrame,\n      team = _ref.team,\n      dayFixtures = _ref.dayFixtures;\n\n  if (Object.keys(fixtures).length === 0) {\n    return __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(FixturesListError, null);\n  }\n  return __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(\n    'div',\n    { className: 'fa-fixtures' },\n    Object.keys(fixtures).map(function (fixtureDay) {\n      var dayFixtures = fixtures[fixtureDay];\n      // return (\n      //   <DayFixtures\n      //     key={fixtureDay}\n      //     timeFrame={timeFrame}\n      //     team={team}\n      //     fixtureDay={fixtureDay}\n      //     fixtures={dayFixtures}\n      //   />\n      // );\n      return __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(__WEBPACK_IMPORTED_MODULE_4__async_component_loader__[\"a\" /* default */], {\n        loadComponentModule: DayFixtures,\n        componentProps: { key: fixtureDay, timeFrame: timeFrame, team: team, fixtureDay: fixtureDay, fixtures: dayFixtures },\n        componentName: 'DayFixtures'\n      });\n    })\n  );\n};\n\nvar collateFixtures = function collateFixtures(fixtures) {\n  var oldFixtures = {};\n  var upcomingFixtures = {};\n  fixtures.forEach(function (fixture) {\n    var matchDay = fixture.matchday,\n        status = fixture.status;\n\n    var target = status === 'FINISHED' ? oldFixtures : upcomingFixtures;\n    if (target[matchDay]) {\n      target[matchDay].push(fixture);\n    } else {\n      target[matchDay] = [fixture];\n    }\n  });\n  return { oldFixtures: oldFixtures, upcomingFixtures: upcomingFixtures };\n};\n\nvar Fixtures = function (_React$Component) {\n  _inherits(Fixtures, _React$Component);\n\n  function Fixtures() {\n    _classCallCheck(this, Fixtures);\n\n    var _this = _possibleConstructorReturn(this, (Fixtures.__proto__ || Object.getPrototypeOf(Fixtures)).call(this));\n\n    _this.state = {\n      loading: false,\n      oldFixtures: {},\n      upcomingFixtures: {},\n      timeFrame: 'n14',\n      timeFrameLabel: 'Next week',\n      fixtureFilters: [{ label: 'Upcoming fixtures', timeFrame: 'n14' }, { label: 'Recently concluded fixtures', timeFrame: 'p7' }],\n      allTeams: {},\n      teams: [],\n      team: null,\n      teamID: null\n    };\n    _this._fetchCompetitionFixturesData = _this.fetchCompetitionFixturesData.bind(_this);\n    _this._filterCompetitionFixtures = _this.filterCompetitionFixtures.bind(_this);\n    _this.mounted = false;\n    return _this;\n  }\n\n  _createClass(Fixtures, [{\n    key: 'fetchCompetitionFixturesData',\n    value: function fetchCompetitionFixturesData(_ref2) {\n      var _this2 = this;\n\n      var competitionID = _ref2.competitionID,\n          timeFrame = _ref2.timeFrame,\n          team = _ref2.team;\n\n      if (!competitionID || !timeFrame) {\n        return;\n      }\n      if (this.mounted) {\n        this.setState(function () {\n          return { loading: true };\n        });\n      }\n      var competitionFixturesPromise = __WEBPACK_IMPORTED_MODULE_1__data__[\"a\" /* default */].fetchCompetitionFixtures(competitionID, timeFrame);\n      var competitionTeamsPromise = __WEBPACK_IMPORTED_MODULE_1__data__[\"a\" /* default */].fetchCompetitionTeams(competitionID);\n      Promise.all([competitionFixturesPromise, competitionTeamsPromise]).then(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            fixturesResponse = _ref4[0],\n            teamsResponse = _ref4[1];\n\n        var teamsList = teamsResponse.data.teams;\n\n        var allTeams = {};\n        var teams = [{ label: 'All teams', value: 'all-teams' }];\n        teamsList.forEach(function (team) {\n          var name = team.name,\n              teamLink = team._links.self.href;\n\n          var teamLinkParts = teamLink.split('/');\n          var teamID = teamLinkParts[teamLinkParts.length - 1];\n          allTeams['' + teamID] = name;\n          teams.push({ label: name, value: teamID });\n        });\n        var fixturesData = fixturesResponse.data;\n        var fixtures = fixturesData.fixtures;\n\n        __WEBPACK_IMPORTED_MODULE_2__utils_cache__[\"a\" /* default */].get(__WEBPACK_IMPORTED_MODULE_2__utils_cache__[\"a\" /* default */].keys.MIXPANEL_DISTINCT_ID).then(function (distinctID) {\n          var eventProperties = {\n            id: competitionID,\n            name: _this2.props.name,\n            timeFrame: timeFrame,\n            currentTeam: team || 'All Teams'\n          };\n          __WEBPACK_IMPORTED_MODULE_3__utils_mixpanel__[\"a\" /* default */].track(distinctID, 'Fixtures Viewed', eventProperties);\n        }).catch(console.error);\n\n        var _collateFixtures = collateFixtures(fixtures),\n            oldFixtures = _collateFixtures.oldFixtures,\n            upcomingFixtures = _collateFixtures.upcomingFixtures;\n\n        if (_this2.mounted) {\n          _this2.setState(function () {\n            return {\n              loading: false,\n              oldFixtures: oldFixtures,\n              upcomingFixtures: upcomingFixtures,\n              teams: teams,\n              allTeams: allTeams\n            };\n          });\n        }\n      }).catch(function (error) {\n        if (_this2.mounted) {\n          _this2.setState(function () {\n            return {\n              loading: false,\n              oldFixtures: {},\n              upcomingFixtures: {},\n              teams: [],\n              allTeams: []\n            };\n          });\n        }\n      });\n    }\n  }, {\n    key: 'filterCompetitionFixtures',\n    value: function filterCompetitionFixtures(_ref5) {\n      var _this3 = this;\n\n      var competitionID = _ref5.competitionID,\n          newTimeFrame = _ref5.newTimeFrame,\n          timeFrameLabel = _ref5.timeFrameLabel;\n\n      __WEBPACK_IMPORTED_MODULE_1__data__[\"a\" /* default */].fetchCompetitionFixtures(competitionID, newTimeFrame).then(function (response) {\n        var fixturesData = response.data;\n        var fixtures = fixturesData.fixtures;\n        var team = _this3.state.team;\n\n        __WEBPACK_IMPORTED_MODULE_2__utils_cache__[\"a\" /* default */].get(__WEBPACK_IMPORTED_MODULE_2__utils_cache__[\"a\" /* default */].keys.MIXPANEL_DISTINCT_ID).then(function (distinctID) {\n          var eventProperties = {\n            id: competitionID,\n            name: _this3.props.name,\n            timeFrame: newTimeFrame,\n            currentTeam: team || 'All Teams',\n            filter: 'TimeFrame'\n          };\n          __WEBPACK_IMPORTED_MODULE_3__utils_mixpanel__[\"a\" /* default */].track(distinctID, 'Fixtures Filtered', eventProperties);\n        }).catch(console.error);\n\n        var _collateFixtures2 = collateFixtures(fixtures),\n            oldFixtures = _collateFixtures2.oldFixtures,\n            upcomingFixtures = _collateFixtures2.upcomingFixtures;\n\n        if (_this3.mounted) {\n          _this3.setState(function () {\n            return {\n              loading: false,\n              oldFixtures: oldFixtures,\n              upcomingFixtures: upcomingFixtures,\n              timeFrame: newTimeFrame,\n              timeFrameLabel: timeFrameLabel\n            };\n          });\n        }\n      }).catch(function (error) {\n        if (_this3.mounted) {\n          _this3.setState(function () {\n            return {\n              loading: false,\n              timeFrame: newTimeFrame,\n              timeFrameLabel: timeFrameLabel\n            };\n          });\n        }\n      });\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.mounted = true;\n      var _state = this.state,\n          timeFrame = _state.timeFrame,\n          team = _state.team;\n      var competitionID = this.props.id;\n\n      this._fetchCompetitionFixturesData({ competitionID: competitionID, timeFrame: timeFrame, team: team });\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref6) {\n      var newCompetitionID = _ref6.id;\n      var oldCompetitionID = this.props.id;\n\n      if (newCompetitionID === oldCompetitionID) {\n        return;\n      }\n      var _state2 = this.state,\n          timeFrame = _state2.timeFrame,\n          team = _state2.team;\n\n      this._fetchCompetitionFixturesData({ competitionID: newCompetitionID, timeFrame: timeFrame, team: team });\n    }\n  }, {\n    key: 'handleTimeFrameSelection',\n    value: function handleTimeFrameSelection(event) {\n      event.preventDefault();\n      var newTimeFrame = event.target.value;\n      var timeFrameLabel = void 0;\n      switch (newTimeFrame) {\n        case 'p7':\n          timeFrameLabel = 'Recently concluded fixtures';\n          break;\n        case 'n14':\n          timeFrameLabel = 'Upcoming fixtures';\n          break;\n      }\n      var oldTimeFrame = this.state.timeFrame;\n\n      if (newTimeFrame === oldTimeFrame) {\n        return;\n      }\n      var competitionID = this.props.id;\n\n      this._filterCompetitionFixtures({ competitionID: competitionID, newTimeFrame: newTimeFrame, timeFrameLabel: timeFrameLabel });\n    }\n  }, {\n    key: 'handleTeamSelection',\n    value: function handleTeamSelection(event) {\n      var _this4 = this;\n\n      event.preventDefault();\n      var teamID = event.target.value;\n      var _state3 = this.state,\n          team = _state3.team,\n          allTeams = _state3.allTeams;\n\n      var selectedTeam = allTeams[teamID];\n      if (team === selectedTeam) {\n        return;\n      }\n      __WEBPACK_IMPORTED_MODULE_2__utils_cache__[\"a\" /* default */].get(__WEBPACK_IMPORTED_MODULE_2__utils_cache__[\"a\" /* default */].keys.MIXPANEL_DISTINCT_ID).then(function (distinctID) {\n        var timeFrame = _this4.state.timeFrame;\n\n        var eventProperties = {\n          id: _this4.props.match.params.id,\n          timeFrame: timeFrame,\n          currentTeam: selectedTeam || 'All Teams',\n          filter: 'Team'\n        };\n        __WEBPACK_IMPORTED_MODULE_3__utils_mixpanel__[\"a\" /* default */].track(distinctID, 'Fixtures Filtered', eventProperties);\n      }).catch(console.error);\n      if (this.mounted) {\n        this.setState(function () {\n          return { team: selectedTeam };\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this5 = this;\n\n      var _state4 = this.state,\n          loading = _state4.loading,\n          upcomingFixtures = _state4.upcomingFixtures,\n          oldFixtures = _state4.oldFixtures,\n          timeFrame = _state4.timeFrame,\n          fixtureFilters = _state4.fixtureFilters,\n          teams = _state4.teams,\n          team = _state4.team;\n\n\n      if (loading) {\n        // return <PlaceholderFixtures />;\n        return __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(__WEBPACK_IMPORTED_MODULE_4__async_component_loader__[\"a\" /* default */], {\n          loadComponentModule: PlaceholderFixtures,\n          componentName: 'PlaceholderFixtures'\n        });\n      }\n\n      var fixtures = timeFrame.indexOf('n') === -1 ? oldFixtures : upcomingFixtures;\n\n      return __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(\n        'div',\n        { className: 'fa-fixtures-container' },\n        __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(\n          'h2',\n          { className: 'fa-fixtures-heading' },\n          'Fixtures'\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(\n          'div',\n          { className: 'fa-fixtures-filter' },\n          __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(\n            'select',\n            {\n              className: 'fa-fixtures-time-filter',\n              onChange: function onChange(event) {\n                return _this5.handleTimeFrameSelection(event);\n              }\n            },\n            fixtureFilters.map(function (_ref7, index) {\n              var label = _ref7.label,\n                  value = _ref7.timeFrame;\n              return __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(\n                'option',\n                { value: value, key: index },\n                label\n              );\n            })\n          ),\n          __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(\n            'select',\n            {\n              className: 'fa-fixtures-team-filter',\n              onChange: function onChange(event) {\n                return _this5.handleTeamSelection(event);\n              }\n            },\n            teams.map(function (_ref8, index) {\n              var label = _ref8.label,\n                  value = _ref8.value;\n              return __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(\n                'option',\n                { value: value, key: index },\n                label\n              );\n            })\n          )\n        ),\n        __WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].createElement(FixturesList, {\n          fixtures: fixtures,\n          timeFrame: timeFrame,\n          team: team,\n          dayFixtures: true\n        })\n      );\n    }\n  }]);\n\n  return Fixtures;\n}(__WEBPACK_IMPORTED_MODULE_0_react__[\"a\" /* default */].Component);\n\n;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Fixtures);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/fixtures.6e877efc.chunk.js","import React from 'react';\n\nimport DataLayer from '../../data';\n\n// import DayFixtures from '../day-fixtures';\n\nimport Cache from '../../utils/cache';\nimport mixpanel from '../../utils/mixpanel';\n\n// import PlaceholderFixtures from '../placeholder-fixtures';\nimport AsyncComponentLoader from '../async-component-loader';\nconst PlaceholderFixtures = () =>\n    import(/* webpackChunkName: \"placeholder-fixtures\" */'../placeholder-fixtures');\nconst DayFixtures = () =>\n    import(/* webpackChunkName: \"day-fixtures\" */'../day-fixtures');\n\nconst FixturesListError = () => (\n  <div className=\"fa-fixtures-error\">\n    No fixtures for selected time period, Master Wayne.\n  </div>\n);\n\nconst FixturesList = ({ fixtures, timeFrame, team, dayFixtures }) => {\n  if (Object.keys(fixtures).length === 0) {\n    return <FixturesListError />;\n  }\n  return (\n    <div className=\"fa-fixtures\">\n      {\n        Object.keys(fixtures).map(fixtureDay => {\n          const dayFixtures = fixtures[fixtureDay];\n          // return (\n          //   <DayFixtures\n          //     key={fixtureDay}\n          //     timeFrame={timeFrame}\n          //     team={team}\n          //     fixtureDay={fixtureDay}\n          //     fixtures={dayFixtures}\n          //   />\n          // );\n          return (\n            <AsyncComponentLoader\n              loadComponentModule={DayFixtures}\n              componentProps={{key: fixtureDay, timeFrame, team, fixtureDay, fixtures: dayFixtures}}\n              componentName=\"DayFixtures\"\n            />\n          );\n        })\n      }\n    </div>\n  );\n};\n\nconst collateFixtures = fixtures => {\n  const oldFixtures = {};\n  const upcomingFixtures = {};\n  fixtures.forEach(fixture => {\n    const { matchday: matchDay, status } = fixture;\n    const target = status === 'FINISHED' ? oldFixtures : upcomingFixtures;\n    if (target[matchDay]) {\n      target[matchDay].push(fixture)\n    } else {\n      target[matchDay] = [fixture];\n    }\n  });\n  return { oldFixtures, upcomingFixtures };\n};\n\nclass Fixtures extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      oldFixtures: {},\n      upcomingFixtures: {},\n      timeFrame: 'n14',\n      timeFrameLabel: 'Next week',\n      fixtureFilters: [\n        { label: 'Upcoming fixtures', timeFrame: 'n14' },\n        { label: 'Recently concluded fixtures', timeFrame: 'p7' }\n      ],\n      allTeams: {},\n      teams: [],\n      team: null,\n      teamID: null\n    };\n    this._fetchCompetitionFixturesData = this.fetchCompetitionFixturesData.bind(this);\n    this._filterCompetitionFixtures = this.filterCompetitionFixtures.bind(this);\n    this.mounted = false;\n  }\n\n  fetchCompetitionFixturesData({competitionID, timeFrame, team}) {\n    if (!competitionID || !timeFrame) {\n      return;\n    }\n    if (this.mounted) {\n      this.setState(() => ({ loading: true }));\n    }\n    const competitionFixturesPromise = DataLayer.fetchCompetitionFixtures(\n      competitionID, timeFrame\n    );\n    const competitionTeamsPromise = DataLayer.fetchCompetitionTeams(\n      competitionID\n    );\n    Promise.all([\n      competitionFixturesPromise,\n      competitionTeamsPromise\n    ])\n      .then(([fixturesResponse, teamsResponse]) => {\n        const { data: { teams: teamsList } } = teamsResponse;\n        const allTeams = {};\n        const teams = [{ label: 'All teams', value: 'all-teams' }];\n        teamsList.forEach(team => {\n          const { name, _links: { self: { href: teamLink } } } = team;\n          const teamLinkParts = teamLink.split('/');\n          const teamID = teamLinkParts[teamLinkParts.length - 1];\n          allTeams[`${teamID}`] = name;\n          teams.push({ label: name, value: teamID });\n        });\n        const { data: fixturesData } = fixturesResponse;\n        const { fixtures } = fixturesData;\n        Cache.get(Cache.keys.MIXPANEL_DISTINCT_ID)\n          .then(distinctID => {\n            const eventProperties = {\n              id: competitionID,\n              name: this.props.name,\n              timeFrame,\n              currentTeam: team || 'All Teams',\n            };\n            mixpanel.track(\n              distinctID,\n              'Fixtures Viewed',\n              eventProperties\n            );\n          }).catch(console.error)\n        const { oldFixtures, upcomingFixtures } = collateFixtures(fixtures);\n        if (this.mounted) {\n          this.setState(() => ({\n            loading: false,\n            oldFixtures,\n            upcomingFixtures,\n            teams,\n            allTeams\n          }));\n        }\n      }).catch(error => {\n        if (this.mounted) {\n          this.setState(() => ({\n            loading: false,\n            oldFixtures: {},\n            upcomingFixtures: {},\n            teams: [],\n            allTeams: []\n          }));\n        }\n      });\n  }\n\n  filterCompetitionFixtures({competitionID, newTimeFrame, timeFrameLabel}) {\n    DataLayer.fetchCompetitionFixtures(\n      competitionID, newTimeFrame\n    ).then(response => {\n      const { data: fixturesData } = response;\n      const { fixtures } = fixturesData;\n      const { team } = this.state;\n      Cache.get(Cache.keys.MIXPANEL_DISTINCT_ID)\n        .then(distinctID => {\n          const eventProperties = {\n            id: competitionID,\n            name: this.props.name,\n            timeFrame: newTimeFrame,\n            currentTeam: team || 'All Teams',\n            filter: 'TimeFrame'\n          };\n          mixpanel.track(\n            distinctID,\n            'Fixtures Filtered',\n            eventProperties\n          );\n        }).catch(console.error);\n      const { oldFixtures, upcomingFixtures } = collateFixtures(fixtures);\n      if (this.mounted) {\n        this.setState(() => ({\n          loading: false,\n          oldFixtures,\n          upcomingFixtures,\n          timeFrame: newTimeFrame,\n          timeFrameLabel\n        }));\n      }\n    }).catch(error => {\n      if (this.mounted) {\n        this.setState(() => ({\n          loading: false,\n          timeFrame: newTimeFrame,\n          timeFrameLabel\n        }));\n      }\n    });\n  }\n\n  componentDidMount() {\n    this.mounted = true;\n    const { timeFrame, team } = this.state;\n    const { id: competitionID } = this.props;\n    this._fetchCompetitionFixturesData({competitionID, timeFrame, team});\n  }\n\n  componentWillReceiveProps({id: newCompetitionID}) {\n    const { id: oldCompetitionID } = this.props;\n    if (newCompetitionID === oldCompetitionID) {\n      return;\n    }\n    const { timeFrame, team } = this.state;\n    this._fetchCompetitionFixturesData({competitionID: newCompetitionID, timeFrame, team});\n  }\n\n  handleTimeFrameSelection(event) {\n    event.preventDefault();\n    const newTimeFrame = event.target.value;\n    let timeFrameLabel;\n    switch (newTimeFrame) {\n      case 'p7':\n        timeFrameLabel = 'Recently concluded fixtures';\n        break;\n      case 'n14':\n        timeFrameLabel = 'Upcoming fixtures';\n        break;\n    }\n    const { timeFrame: oldTimeFrame } = this.state;\n    if (newTimeFrame === oldTimeFrame) {\n      return;\n    }\n    const { id: competitionID } = this.props;\n    this._filterCompetitionFixtures({ competitionID, newTimeFrame, timeFrameLabel });\n  }\n\n  handleTeamSelection(event) {\n    event.preventDefault();\n    const teamID = event.target.value;\n    const { team, allTeams } = this.state;\n    const selectedTeam = allTeams[teamID];\n    if (team === selectedTeam) {\n      return;\n    }\n    Cache.get(Cache.keys.MIXPANEL_DISTINCT_ID)\n      .then(distinctID => {\n        const { timeFrame } = this.state;\n        const eventProperties = {\n          id: this.props.match.params.id,\n          timeFrame,\n          currentTeam: selectedTeam || 'All Teams',\n          filter: 'Team'\n        };\n        mixpanel.track(\n          distinctID,\n          'Fixtures Filtered',\n          eventProperties\n        );\n      }).catch(console.error);\n    if (this.mounted) {\n      this.setState(() => ({ team: selectedTeam }));\n    }\n  }\n\n  render() {\n    const {\n      loading,\n      upcomingFixtures,\n      oldFixtures,\n      timeFrame,\n      fixtureFilters,\n      teams,\n      team\n    } = this.state;\n\n    if (loading) {\n      // return <PlaceholderFixtures />;\n      return (\n        <AsyncComponentLoader\n          loadComponentModule={PlaceholderFixtures}\n          componentName=\"PlaceholderFixtures\"\n        />\n      );\n    }\n\n    const fixtures = timeFrame.indexOf('n') === -1 ? oldFixtures : upcomingFixtures;\n\n    return (\n      <div className=\"fa-fixtures-container\">\n        <h2 className=\"fa-fixtures-heading\">\n          Fixtures\n        </h2>\n        <div className=\"fa-fixtures-filter\">\n          <select\n            className=\"fa-fixtures-time-filter\"\n            onChange={(event) => this.handleTimeFrameSelection(event)}\n          >\n            {\n              fixtureFilters.map(({ label, timeFrame: value }, index) =>\n                <option value={value} key={index}>\n                  {label}\n                </option>\n              )\n            }\n          </select>\n          <select\n            className=\"fa-fixtures-team-filter\"\n            onChange={(event) => this.handleTeamSelection(event)}\n          >\n            {\n              teams.map(({ label, value }, index) =>\n                <option value={value} key={index}>\n                  {label}\n                </option>\n              )\n            }\n          </select>\n        </div>\n        <FixturesList\n          fixtures={fixtures}\n          timeFrame={timeFrame}\n          team={team}\n          dayFixtures\n        />\n      </div>\n    );\n  }\n};\n\nexport default Fixtures;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/fixtures/index.js"],"sourceRoot":""}